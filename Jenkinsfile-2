// sImageMaven = 'maven:3-alpine'
// with env.V, both env.V and V works
// with V, only V works (env.V does not)
// env.sAgentLabel = 'wsl2'
// sAgentLabel = ""
def sAgentLabel = "nothing"
pipeline {
    agent { label sAgentLabel }
    environment {
        // variables must already defined, can be env or groovy
        // variable here only go to ${env.V}
        sAgentLabel = 'wsl2'
        // sImageMaven = 'maven:3-alpine'
    }
    stages {
        stage('Prepare') {
            steps {
                sh """
                    ### both works
                    echo "hello world"
                    echo "sAgentLabel:$sAgentLabel" | true
                    echo "braced-sAgentLabel:${sAgentLabel}" | true
                    ### this is null
                    echo "env.sAgentLabel:${env.sAgentLabel}" | true
                    ### both works
                    echo "BUILD_ID:$BUILD_ID" | true
                    echo "env.BUILD_ID:${env.BUILD_ID}" | true
                """
            }
        }
    }
}
